<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="/mongo-java-driver/3.0/img/favicon.png">

    <title>Admin Quick Tour</title>

    <link rel="stylesheet" href="/mongo-java-driver/3.0/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.0/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.0/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.0/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.0/lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="/mongo-java-driver/3.0/lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.0/css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="/mongo-java-driver/3.0/../">
        <img src="/mongo-java-driver/3.0/img/logo-mongodb-header.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <a href="http://try.mongodb.org/" data-toggle="tooltip" data-placement="bottom" title="Try MongoDB in the browser">Try it Out</a>
  <a href="http://www.mongodb.org/downloads" data-toggle="tooltip" data-placement="bottom" title="Download MongoDB">Downloads</a>
  <a href="http://www.mongodb.org/get-involved" data-toggle="tooltip" data-placement="bottom" title="Get involved with MongoDB">Community</a>
  <a href="http://docs.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Documentation">Docs</a>
  <a href="http://blog.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Blog">Blog</a>
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/mongo-java-driver/3.0">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="/mongo-java-driver/3.0/../">MongoDB Java Driver</a>
          <a class="version pull-right" href="/mongo-java-driver/3.0">3.0</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
    
      
    
  


          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
      
      
      
        
      
    
    
  
  


        
      
    
    
  


        
      
    
      
      
        
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.0/whats-new/" class="">
      <i class='fa fa-cog'></i>
      <span>What&#39;s New</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/whats-new/upgrading/">
        <i class='fa fa-wrench'></i>
        Upgrading to 3.0
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.0/driver/" class="">
      <i class='fa fa-arrows-h'></i>
      <span>MongoDB Driver</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-java-driver/3.0/driver/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-java-driver/3.0/driver/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      
  </a>
    <ul >
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.0/driver/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.0/driver/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongo-java-driver/3.0/driver-async/" class="">
      <i class='fa fa-refresh'></i>
      <span>MongoDB Async Driver</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        













  




<li class="toctree-l2  current">
  <a href="/mongo-java-driver/3.0/driver-async/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver-async/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver-async/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-java-driver/3.0/driver-async/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      
  </a>
    <ul >
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.0/driver-async/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver-async/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver-async/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver-async/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.0/driver-async/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.0/driver-async/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver-async/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.0/driver-async/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.0/bson/" class="">
      <i class='fa fa-th'></i>
      <span>BSON</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/bson/documents/">
        <i class='fa'></i>
        Documents
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/bson/readers-and-writers/">
        <i class='fa'></i>
        Readers and Writers
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/bson/codecs/">
        <i class='fa'></i>
        Codec and CodecRegistry
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/bson/extended-json/">
        <i class='fa'></i>
        Extended JSON
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/bson/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.0/builders/" class="">
      <i class='fa fa-wrench'></i>
      <span>Builders</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/builders/filters/">
        <i class='fa'></i>
        Filters
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/builders/projections/">
        <i class='fa'></i>
        Projections
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.0/builders/sorts/">
        <i class='fa'></i>
        Sort Criteria  
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="http://api.mongodb.org/java/3.0">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-java-driver/tree/3.0.x">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-java-driver/3.0/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-java-driver/blob/3.0.x/docs/reference/content/driver-async/getting-started/quick-tour-admin.md" target="_blank" title="Edit driver-async/getting-started/quick-tour-admin.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  <li><a href="/mongo-java-driver/3.0/driver-async/">MongoDB Async Driver</a> <i class="fa fa-angle-right"></i></li>
  <li><a href="/mongo-java-driver/3.0/driver-async/getting-started/">Getting Started</a> <i class="fa fa-angle-right"></i></li>
  <li>Admin Quick Tour</li>
</ul>
</div>




<h1 id="mongodb-driver-admin-quick-tour">MongoDB Driver Admin Quick Tour</h1>

<p>This is the second part of the MongoDB driver quick tour. In the
<a href="/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/">quick tour</a> we looked at how to
use the Async Java driver to execute basic CRUD operations.  In this section we&rsquo;ll look at some of the
administrative features available in the driver.</p>

<p>The following code snippets come from the <code>QuickTourAdmin.java</code> example code
that can be found with the <a href="https://github.com/mongodb/mongo-java-driver/blob/3.0.x/driver-async/src/examples/tour/QuickTourAdmin.java
">driver
source</a>.</p>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>See the <a href="/mongo-java-driver/3.0/driver-async/getting-started/installation-guide/">installation guide</a>
for instructions on how to install the MongoDB Driver.</p>

</div>
</p>

<h2 id="setup">Setup</h2>

<p>To get started we&rsquo;ll quickly connect and create a <code>mongoClient</code>, <code>database</code> and <code>collection</code>
variable for use in the examples below:</p>

<pre><code class="language-java">MongoClient mongoClient = new MongoClient(new ConnectionString(&quot;mongodb://localhost&quot;));
MongoDatabase database = mongoClient.getDatabase(&quot;mydb&quot;);
MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;test&quot;);
</code></pre>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>Calling the <code>getDatabase()</code> on <code>MongoClient</code> does not create a database.
Only when a database is written to will a database be created.  Examples include the creation of an index or the insertion of a document
into a previously non-existent collection.</p>

</div>
</p>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>Sometimes you will need the same or similar callbacks more than once.  In these situations
it makes sense to DRY (Do not Repeat Yourself) up your code and save the callback either
as a concrete class or assign to a variable as below:</p>

<pre><code class="language-java">SingleResultCallback&lt;Void&gt; callbackWhenFinished = new SingleResultCallback&lt;Void&gt;() {
    @Override
    public void onResult(final Void result, final Throwable t) {
        System.out.println(&quot;Operation Finished!&quot;);
    }
};
</code></pre>

</div>
</p>

<h2 id="get-a-list-of-databases">Get A List of Databases</h2>

<p>You can get a list of the available databases:</p>

<pre><code class="language-java">mongoClient.listDatabaseNames().forEach(new Block&lt;String&gt;() {
    @Override
    public void apply(final String s) {
        System.out.println(s);
    }
}, callbackWhenFinished);
</code></pre>

<h2 id="drop-a-database">Drop A Database</h2>

<p>You can drop a database by name using a <code>MongoClient</code> instance:</p>

<pre><code class="language-java">mongoClient.getDatabase(&quot;databaseToBeDropped&quot;).drop(callbackWhenFinished);
</code></pre>

<h2 id="create-a-collection">Create A Collection</h2>

<p>Collections in MongoDB are created automatically simply by inserted a document into it. Using the
<a href="http://api.mongodb.org/java/3.0/?com/mongodb/async/client/MongoDatabase.html#createCollection-java.lang.String-com.mongodb.async.SingleResultCallback-
"><code>createCollection</code></a>
method, you can also create a collection explicitly in order to to customize its configuration. For example, to create a capped collection sized to 1 megabyte:</p>

<pre><code class="language-java">database.createCollection(&quot;cappedCollection&quot;,
  new CreateCollectionOptions().capped(true).sizeInBytes(0x100000),
  callbackWhenFinished);
</code></pre>

<h2 id="get-a-list-of-collections">Get A List of Collections</h2>

<p>You can get a list of the available collections in a database:</p>

<pre><code class="language-java">database.listCollectionNames().forEach(new Block&lt;String&gt;() {
    @Override
    public void apply(final String databaseName) {
        System.out.println(databaseName);
    }
}, callbackWhenFinished);
</code></pre>

<h2 id="drop-a-collection">Drop A Collection</h2>

<p>You can drop a collection by using the drop() method:</p>

<pre><code class="language-java">collection.drop(callbackWhenFinished);
</code></pre>

<h2 id="create-an-index">Create An Index</h2>

<p>MongoDB supports secondary indexes. To create an index, you just
specify the field or combination of fields, and for each field specify the direction of the index for that field.
For <code>1</code> ascending  or <code>-1</code> for descending. The following creates an ascending index on the <code>i</code> field:</p>

<pre><code class="language-java">// create an ascending index on the &quot;i&quot; field
 collection.createIndex(new Document(&quot;i&quot;, 1), callbackWhenFinished);
</code></pre>

<h2 id="get-a-list-of-indexes-on-a-collection">Get a List of Indexes on a Collection</h2>

<p>Use the <code>listIndexes()</code> method to get a list of indexes. The following creates a
<code>printDocumentBlock</code> Block that prints out the Json version of a document and then passes
that block to the <code>forEach</code> method on a
<a href="http://api.mongodb.org/java/3.0/?com/mongodb/async/client/MongoIterable.html
"><code>mongoIterable</code></a>
so that it will printout all the indexes on the collection <code>test</code>:</p>

<pre><code class="language-java">Block&lt;Document&gt; printDocumentBlock = new Block&lt;Document&gt;() {
    @Override
    public void apply(final Document document) {
        System.out.println(document.toJson());
    }
};

collection.listIndexes().forEach(printDocumentBlock, callbackWhenFinished);
</code></pre>

<p>The example should print the following indexes:</p>

<pre><code class="language-json">{ &quot;v&quot; : 1, &quot;key&quot; : { &quot;_id&quot; : 1 }, &quot;name&quot; : &quot;_id_&quot;, &quot;ns&quot; : &quot;mydb.test&quot; }
{ &quot;v&quot; : 1, &quot;key&quot; : { &quot;i&quot; : 1 }, &quot;name&quot; : &quot;i_1&quot;, &quot;ns&quot; : &quot;mydb.test&quot; }
Operation Finished!
</code></pre>

<h2 id="text-indexes">Text indexes</h2>

<p>MongoDB also provides text indexes to support text search of string
content. Text indexes can include any field whose value is a string or
an array of string elements. To create a text index specify the string
literal &ldquo;text&rdquo; in the index document:</p>

<pre><code class="language-java">// create a text index on the &quot;content&quot; field
coll.createIndex(new Document(&quot;content&quot;, &quot;text&quot;), callbackWhenFinished);
</code></pre>

<p>As of MongoDB 2.6, text indexes are now integrated into the main query
language and enabled by default (here we use the <a href="http://api.mongodb.org/java/3.0/?com/mongodb/client/model/Filters.html#text-java.lang.String-
"><code>Filters.text</code></a> helper):</p>

<pre><code class="language-java">// Insert some documents
collection.insertOne(new Document(&quot;_id&quot;, 0).append(&quot;content&quot;, &quot;textual content&quot;), callbackWhenFinished);
collection.insertOne(new Document(&quot;_id&quot;, 1).append(&quot;content&quot;, &quot;additional content&quot;), callbackWhenFinished);
collection.insertOne(new Document(&quot;_id&quot;, 2).append(&quot;content&quot;, &quot;irrelevant content&quot;), callbackWhenFinished);

// Find using the text index
long matchCount = collection.count(text(&quot;textual content -irrelevant&quot;));
System.out.println(&quot;Text search matches: &quot; + matchCount);

// Find using the $language operator
Bson textSearch = text(&quot;textual content -irrelevant&quot;, &quot;english&quot;);
matchCount = collection.count(textSearch);
System.out.println(&quot;Text search matches (english): &quot; + matchCount);

// Find the highest scoring match
// Find using the text index
collection.count(text(&quot;textual content -irrelevant&quot;), new SingleResultCallback&lt;Long&gt;() {
    @Override
    public void onResult(final Long matchCount, final Throwable t) {
        System.out.println(&quot;Text search matches: &quot; + matchCount);
    }
});


// Find using the $language operator
Bson textSearch = text(&quot;textual content -irrelevant&quot;, &quot;english&quot;);
collection.count(textSearch, new SingleResultCallback&lt;Long&gt;() {
    @Override
    public void onResult(final Long matchCount, final Throwable t) {
        System.out.println(&quot;Text search matches (english): &quot; + matchCount);
    }
});

// Find the highest scoring match
Document projection = new Document(&quot;score&quot;, new Document(&quot;$meta&quot;, &quot;textScore&quot;));
collection.find(textSearch).projection(projection).first(new SingleResultCallback&lt;Document&gt;() {
    @Override
    public void onResult(final Document highest, final Throwable t) {
        System.out.println(&quot;Highest scoring document: &quot; + highest.toJson());

    }
});
</code></pre>

<p>and it should print:</p>

<pre><code class="language-json">Text search matches: 2
Text search matches (english): 2
Highest scoring document: { &quot;_id&quot; : 1, &quot;content&quot; : &quot;additional content&quot;, &quot;score&quot; : 0.75 }
</code></pre>

<p>For more information about text search see the <a href="http://docs.mongodb.org/manual//core/index-text
">text index</a> and
<a href="http://docs.mongodb.org/manual//reference/operator/query/text
">$text query operator</a> documentation.</p>

<h2 id="running-a-command">Running a command</h2>

<p>Not all commands have a specific helper, however you can run any <a href="http://docs.mongodb.org/manual//reference/command
">command</a>
by using the <a href="http://api.mongodb.org/java/3.0/?com/mongodb/async/client/MongoDatabase.html#runCommand-org.bson.conversions.Bson-com.mongodb.ReadPreference-com.mongodb.async.SingleResultCallback-"><code>runCommand()</code></a> method.  Here we call the <a href="{{ docsref &quot;reference/command/buildInfo&quot; }}">buildInfo</a> command:</p>

<pre><code class="language-java">database.runCommand(new Document(&quot;buildInfo&quot;, 1), new SingleResultCallback&lt;Document&gt;() {
    @Override
    public void onResult(final Document buildInfo, final Throwable t) {
        System.out.println(buildInfo);
    }
});
</code></pre>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/">
      <i class="fa fa-long-arrow-left"> </i> Quick Tour
  </a>
  </div>
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongo-java-driver/3.0/driver-async/reference/">
    Reference <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li><a href="#mongodb-driver-admin-quick-tour">MongoDB Driver Admin Quick Tour</a>
<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#get-a-list-of-databases">Get A List of Databases</a></li>
<li><a href="#drop-a-database">Drop A Database</a></li>
<li><a href="#create-a-collection">Create A Collection</a></li>
<li><a href="#get-a-list-of-collections">Get A List of Collections</a></li>
<li><a href="#drop-a-collection">Drop A Collection</a></li>
<li><a href="#create-an-index">Create An Index</a></li>
<li><a href="#get-a-list-of-indexes-on-a-collection">Get a List of Indexes on a Collection</a></li>
<li><a href="#text-indexes">Text indexes</a></li>
<li><a href="#running-a-command">Running a command</a></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/mongo-java-driver/3.0",
   VERSION:     "3.0",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="/mongo-java-driver/3.0/js/jquery.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.0/lib/bootstrap.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.0/js/navbar.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.0/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.0/js/scripts.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.0/lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.0/js/java.js"></script>



<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-K75Z5Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K75Z5Q');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>

</body>
</html>

