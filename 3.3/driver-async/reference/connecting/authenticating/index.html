<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="/mongo-java-driver/3.3/img/favicon.png">

    <title>Authenticating</title>

    <link rel="stylesheet" href="/mongo-java-driver/3.3/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.3/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.3/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.3/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.3/lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="/mongo-java-driver/3.3/lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver/3.3/css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="/mongo-java-driver/3.3/../">
        <img src="/mongo-java-driver/3.3/img/logo-mongodb-header.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
  <a href="https://university.mongodb.com" data-toggle="tooltip" data-placement="bottom" title="Free Online Classes">MongoDB University</a>
  <a href="http://www.mongodb.org/downloads" data-toggle="tooltip" data-placement="bottom" title="Download MongoDB">Downloads</a>
  <a href="http://www.mongodb.org/get-involved" data-toggle="tooltip" data-placement="bottom" title="Get involved with MongoDB">Community</a>
  <a href="http://docs.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Documentation">Docs</a>
  <a href="http://blog.mongodb.org" data-toggle="tooltip" data-placement="bottom" title="The MongoDB Blog">Blog</a>
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/mongo-java-driver/3.3">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="/mongo-java-driver/3.3/../">MongoDB Java Driver</a>
          <a class="version pull-right" href="/mongo-java-driver/3.3">3.3</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
    
      
    
  


          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
    
      
    
  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
      
      
      
        
        
        
          
        
      
      
    
    
  
  


        
      
    
    
  


        
      
    
      
      
        
      
    
      
      
    
      
      
    
      
      
    
    
  


        
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  
    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.3/whats-new/" class="">
      <i class='fa fa-cog'></i>
      <span>What&#39;s New</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/whats-new/upgrading/">
        <i class='fa fa-wrench'></i>
        Upgrading to 3.3
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.3/driver/" class="">
      <i class='fa fa-arrows-h'></i>
      <span>MongoDB Driver</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-java-driver/3.3/driver/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-java-driver/3.3/driver/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      
  </a>
    <ul >
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.3/driver/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver/reference/connecting/jndi/">
        <i class='fa'></i>
        JNDI
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver/reference/gridfs/">
        <i class='fa'></i>
        GridFS
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.3/driver/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongo-java-driver/3.3/driver-async/" class="">
      <i class='fa fa-refresh'></i>
      <span>MongoDB Async Driver</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        
















<li class="toctree-l2 ">
  <a href="/mongo-java-driver/3.3/driver-async/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver-async/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver-async/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver-async/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        













  




<li class="toctree-l2  current">
  <a href="/mongo-java-driver/3.3/driver-async/reference/" class="">
      <i class='fa fa-book'></i>
      <span>Reference</span>
      
  </a>
    <ul  class="current">
        
        
        
        













  




<li class="toctree-l3  current">
  <a href="/mongo-java-driver/3.3/driver-async/reference/connecting/" class="">
      <i class='fa'></i>
      <span>Connecting</span>
      
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver-async/reference/connecting/connection-settings/">
        <i class='fa'></i>
        Connection Settings
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver-async/reference/connecting/ssl/">
        <i class='fa'></i>
        SSL
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver-async/reference/connecting/authenticating/">
        <i class='fa'></i>
        Authenticating
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver-async/reference/crud/">
        <i class='fa'></i>
        CRUD Operations
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver-async/reference/gridfs/">
        <i class='fa'></i>
        GridFS
    </a>
  </li>


        
        
        
        
        
















<li class="toctree-l3 ">
  <a href="/mongo-java-driver/3.3/driver-async/reference/management/" class="">
      <i class='fa'></i>
      <span>Management</span>
      
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver-async/reference/management/logging/">
        <i class='fa'></i>
        Logging
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l4">
    <a href="/mongo-java-driver/3.3/driver-async/reference/management/monitoring/">
        <i class='fa'></i>
        Monitoring
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
        
        
        
















    <li class="toctree-l3">
    <a href="/mongo-java-driver/3.3/driver-async/reference/observables/">
        <i class='fa'></i>
        Observables
    </a>
  </li>


        
        
    </ul>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.3/bson/" class="">
      <i class='fa fa-th'></i>
      <span>BSON</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/bson/documents/">
        <i class='fa'></i>
        Documents
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/bson/readers-and-writers/">
        <i class='fa'></i>
        Readers and Writers
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/bson/codecs/">
        <i class='fa'></i>
        Codec and CodecRegistry
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/bson/extended-json/">
        <i class='fa'></i>
        Extended JSON
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/bson/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















<li class="toctree-l1 ">
  <a href="/mongo-java-driver/3.3/builders/" class="">
      <i class='fa fa-wrench'></i>
      <span>Builders</span>
      <span class="menu-arrow fa fa-angle-right"></span>
  </a>
    <ul >
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/builders/filters/">
        <i class='fa'></i>
        Filters
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/builders/projections/">
        <i class='fa'></i>
        Projections
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/builders/sorts/">
        <i class='fa'></i>
        Sort Criteria  
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/builders/aggregation/">
        <i class='fa'></i>
        Aggregation
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/builders/updates/">
        <i class='fa'></i>
        Updates
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver/3.3/builders/indexes/">
        <i class='fa'></i>
        Indexes
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="http://api.mongodb.com/java/3.3">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-java-driver/tree/master">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-java-driver/3.3/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-java-driver/blob/master/docs/reference/content/driver-async/reference/connecting/authenticating.md" target="_blank" title="Edit driver-async/reference/connecting/authenticating.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  <li><a href="/mongo-java-driver/3.3/driver-async/">MongoDB Async Driver</a> <i class="fa fa-angle-right"></i></li>
  <li><a href="/mongo-java-driver/3.3/driver-async/reference/">Reference</a> <i class="fa fa-angle-right"></i></li>
  <li><a href="/mongo-java-driver/3.3/driver-async/reference/connecting/">Connecting</a> <i class="fa fa-angle-right"></i></li>
  <li>Authenticating</li>
</ul>
</div>




<h1 id="authentication">Authentication</h1>

<p>The Java driver supports all MongoDB <a href="http://docs.mongodb.org/manual/core/authentication/">authentication mechanisms</a>, including those
only available in the MongoDB <a href="http://docs.mongodb.org/manual/administration/install-enterprise/">Enterprise Edition</a>.</p>

<p>An authentication credential is represented as an instance of the
<a href="http://api.mongodb.com/java/3.3/?com/mongodb/MongoCredential.html
"><code>MongoCredential</code></a> class, which includes static factory methods for
each of the supported authentication mechanisms.  A list of these instances must be passed to the driver via a
<a href="http://api.mongodb.com/java/3.3/?com/mongodb/async/client/MongoClients.html
"><code>MongoClients</code></a> static factory method that takes a
<a href="http://api.mongodb.com/java/3.3/?com/mongodb/async/client/MongoClientSettings.html
"><code>MongoClientSettings</code></a> parameter.  Alternatively, a single
<code>MongoCredential</code> can be created implicity via a
<a href="http://api.mongodb.com/java/3.3/?com/mongodb/ConnectionString.html
"><code>ConnectionString</code></a> and passed to a
<code>MongoClients</code> static factory method that takes a <code>ConnectionString</code> parameter.</p>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>Given the flexibility of role-based access control in MongoDB, it is usually sufficient to authenticate with a single user, but, for completeness, the driver accepts a list of credentials.</p>

</div>
</p>

<h2 id="default-authentication-mechanism">Default authentication mechanism</h2>

<p>MongoDB 3.0 changed the default authentication mechanism from
<a href="http://docs.mongodb.org/manual/core/authentication/#mongodb-cr-authentication">MONGODB-CR</a> to
<a href="http://docs.mongodb.org/manual/core/authentication/#scram-sha-1-authentication">SCRAM-SHA-1</a>.  To create a credential that will
authenticate properly regardless of server version, create a credential using the following static factory method:</p>

<pre><code class="language-java">import com.mongodb.MongoCredential;

// ...

String user;        // the user name
String database;    // the name of the database in which the user is defined
char[] password;    // the password as a character array
// ...
MongoCredential credential = MongoCredential.createCredential(user,
                                                              database,
                                                              password);
</code></pre>

<p>or with a connection string:</p>

<pre><code class="language-java">ConnectionString uri = new ConnectionString(&quot;mongodb://user1:pwd1@host1/?authSource=db1&quot;);
</code></pre>

<p>This is the recommended approach as it will make upgrading from MongoDB 2.6 to MongoDB 3.0 seamless, even after <a href="http://docs.mongodb.org/manual/release-notes/3.0-scram/#upgrade-mongodb-cr-to-scram">upgrading the
authentication schema</a>.</p>

<h2 id="scram-sha-1">SCRAM-SHA-1</h2>

<p>To explicitly create a credential of type <a href="http://docs.mongodb .org/manual/core/authentication/#scram-sha-1-authentication">SCRAM-SHA-1</a>
use the following static factory method:</p>

<pre><code class="language-java">MongoCredential credential = MongoCredential.createScramSha1Credential(user,
                                                                       database,
                                                                       password);
</code></pre>

<p>or with a connection string:</p>

<pre><code class="language-java">ConnectionString uri = new ConnectionString(&quot;mongodb://user1:pwd1@host1/?authSource=db1&amp;authMechanism=SCRAM-SHA-1&quot;);
</code></pre>

<h2 id="mongodb-cr">MONGODB-CR</h2>

<p>To explicitly create a credential of type <a href="http://docs.mongodb.org/manual/core/authentication/#mongodb-cr-authentication">MONGODB-CR</a>
use the following static factory method:</p>

<pre><code class="language-java">MongoCredential credential = MongoCredential.createMongoCRCredential(user,
                                                                     database,
                                                                     password);
</code></pre>

<p>or with a connection string:</p>

<pre><code class="language-java">ConnectionString uri = new ConnectionString(&quot;mongodb://user1:pwd1@host1/?authSource=db1&amp;authMechanism=MONGODB-CR&quot;);
</code></pre>

<p>Note that this is not recommended as a credential created in this way will fail to authenticate after an authentication schema upgrade
from MONGODB-CR to SCRAM-SHA-1.</p>

<h2 id="x-509">x.509</h2>

<p>The <a href="http://docs.mongodb.org/manual/core/authentication/#x-509-certificate-authentication">x.509</a> mechanism authenticates a user
whose name is derived from the distinguished subject name of the X.509 certificate presented by the driver during SSL negotiation. This
authentication method requires the use of SSL connections with certificate validation and is available in MongoDB 2.6 and newer. To
create a credential of this type use the following static factory method:</p>

<pre><code class="language-java">String user;     // The x.509 certificate derived user name, e.g. &quot;CN=user,OU=OrgUnit,O=myOrg,...&quot;
MongoCredential credential = MongoCredential.createMongoX509Credential(user);
</code></pre>

<p>or with a connection string:</p>

<pre><code class="language-java">ConnectionString uri = new ConnectionString(&quot;mongodb://subjectName@host1/?authMechanism=MONGODB-X509&quot;);
</code></pre>

<p>See the MongoDB server
<a href="http://docs.mongodb.org/manual/tutorial/configure-x509-client-authentication/#add-x-509-certificate-subject-as-a-user">x.509 tutorial</a> for
more information about determining the subject name from the certificate.</p>

<h2 id="kerberos-gssapi">Kerberos (GSSAPI)</h2>

<p><a href="http://www.mongodb.com/products/mongodb-enterprise">MongoDB Enterprise</a> supports proxy authentication through a Kerberos service.  To
create a credential of type <a href="http://docs.mongodb.org/manual/core/authentication/#kerberos-authentication">Kerberos (GSSAPI)</a> use the
following static factory method:</p>

<pre><code class="language-java">String user;   // The Kerberos user name, including the realm, e.g. &quot;user1@MYREALM.ME&quot;
// ...
MongoCredential credential = MongoCredential.createGSSAPICredential(user);
</code></pre>

<p>Or via a connection string:</p>

<pre><code class="language-java">ConnectionString uri = new ConnectionString(&quot;mongodb://username%40MYREALM.com@host1/?authMechanism=GSSAPI&quot;);
</code></pre>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>The method refers to the <code>GSSAPI</code> authentication mechanism instead of <code>Kerberos</code> because technically the driver is authenticating via the
<a href="https://tools.ietf.org/html/rfc4752">GSSAPI</a> SASL mechanism.</p>

</div>
</p>

<p>To successfully authenticate via Kerberos, the application typically must specify several system properties so that the underlying GSSAPI
Java libraries can acquire a Kerberos ticket:</p>

<pre><code>java.security.krb5.realm=MYREALM.ME
java.security.krb5.kdc=mykdc.myrealm.me
</code></pre>

<p>Depending on the Kerberos setup, it may be required to specify additional properties, either via code or, in some cases,
the connection string.</p>

<ul>
<li><p><strong><a href="http://api.mongodb.com/java/3.3/?com/mongodb/MongoCredential.html#SERVICE_NAME_KEY
"><code>SERVICE_NAME</code></a></strong></p>

<p>This property is used when the service&rsquo;s name is different that the default of <code>mongodb</code>.</p>

<pre><code class="language-java">credential = credential.withMechanismProperty(MongoCredential.SERVICE_NAME_KEY, &quot;othername&quot;);
</code></pre>

<p>Or via the connection string:</p>

<pre><code>mongodb://username%40MYREALM.com@myserver/?authMechanism=GSSAPI&amp;authMechanismProperties=SERVICE_NAME:othername
</code></pre></li>

<li><p><strong><a href="http://api.mongodb.com/java/3.3/?com/mongodb/MongoCredential.html#CANONICALIZE_HOST_NAME_KEY
"><code>CANONICALIZE_HOST_NAME</code></a></strong></p>

<p>This property is used when the fully qualified domain name (FQDN) of the host is required to properly authenticate.</p>

<pre><code class="language-java">credential = credential.withMechanismProperty(MongoCredential.CANONICALIZE_HOST_NAME_KEY, true);
</code></pre>

<p>Or via the connection string:</p>

<pre><code>mongodb://username%40MYREALM.com@myserver/?authMechanism=GSSAPI&amp;authMechanismProperties=CANONICALIZE_HOST_NAME:true
</code></pre></li>

<li><p><strong><a href="http://api.mongodb.com/java/3.3/?com/mongodb/MongoCredential.html#JAVA_SUBJECT_KEY
"><code>JAVA_SUBJECT</code></a></strong></p>

<p>This property is used for overriding the <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/Subject.html">Subject</a>
under which GSSAPI authentication executes.</p>

<pre><code class="language-java">LoginContext loginContext;
// ...
loginContext.login();
Subject subject = loginContext.getSubject()


credential = credential.withMechanismProperty(MongoCredential.JAVA_SUBJECT_KEY, subject);
</code></pre></li>

<li><p><strong><a href="http://api.mongodb.com/java/3.3/?com/mongodb/MongoCredential.html#JAVA_SASL_CLIENT_PROPERTIES_KEY
"><code>JAVA_SASL_CLIENT_PROPERTIES</code></a></strong></p>

<p>While rarely needed, this property is used to replace the
<a href="http://docs.oracle.com/javase/8/docs/api/javax/security/sasl/SaslClient.html">SasClient</a> properties.</p>

<pre><code class="language-java">Map&lt;String, Object&gt; saslClientProperties;
// ...


credential = credential.withMechanismProperty(MongoCredential.JAVA_SASL_CLIENT_PROPERTIES_KEY, saslClientProperties);
</code></pre></li>
</ul>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>The <code>GSSAPI</code> authentication mechanism is supported only in the following environments:</p>

<ul>
<li>Linux: Java 6 and above</li>
<li>Windows: Java 7 and above with <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa380493">SSPI</a></li>
<li>OS X: Java 7 and above</li>
</ul>

</div>
</p>

<h2 id="ldap-plain">LDAP (PLAIN)</h2>

<p><a href="http://www.mongodb.com/products/mongodb-enterprise">MongoDB Enterprise</a> supports proxy authentication through a Lightweight Directory
Access Protocol (LDAP) service.  To create a credential of type <a href="http://docs.mongodb
.org/manual/core/authentication/#ldap-proxy-authority-authentication">LDAP</a> use the following static factory method:</p>

<pre><code class="language-java">String user;          // The LDAP user name
char[] password;      // The LDAP password
// ...
MongoCredential credential = MongoCredential.createPlainCredential(user, &quot;$external&quot;, password);
</code></pre>

<p>or with a connection string:</p>

<pre><code class="language-java">ConnectionString uri = new ConnectionString(&quot;mongodb://user1@host1/?authSource=$external&amp;authMechanism=PLAIN&quot;);
</code></pre>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>The method refers to the <code>plain</code> authentication mechanism instead of <code>LDAP</code> because technically the driver is authenticating via the <a href="https://www.ietf.org/rfc/rfc4616.txt">PLAIN</a> SASL mechanism.</p>

</div>
</p>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/mongo-java-driver/3.3/driver-async/reference/connecting/ssl/">
      <i class="fa fa-long-arrow-left"> </i> SSL
  </a>
  </div>
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongo-java-driver/3.3/driver-async/reference/crud/">
    CRUD Operations <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li><a href="#authentication">Authentication</a>
<ul>
<li><a href="#default-authentication-mechanism">Default authentication mechanism</a></li>
<li><a href="#scram-sha-1">SCRAM-SHA-1</a></li>
<li><a href="#mongodb-cr">MONGODB-CR</a></li>
<li><a href="#x-509">x.509</a></li>
<li><a href="#kerberos-gssapi">Kerberos (GSSAPI)</a></li>
<li><a href="#ldap-plain">LDAP (PLAIN)</a></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/mongo-java-driver/3.3",
   VERSION:     "3.3",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="/mongo-java-driver/3.3/js/jquery.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.3/lib/bootstrap.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.3/js/navbar.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.3/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.3/js/scripts.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.3/lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="/mongo-java-driver/3.3/js/java.js"></script>



<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-K75Z5Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K75Z5Q');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>

</body>
</html>

